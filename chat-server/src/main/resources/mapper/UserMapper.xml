<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dylan.chat.mapper.UserMapper">
    <resultMap id="userMap" type="com.dylan.chat.entity.UserEntity">
    </resultMap>

    <sql id="Table_Fields">
        id, user_type, user_name, user_phone, user_password, user_group, created_at, updated_at, del_flag
    </sql>

    <sql id="Table_Name">
        `lgc_user`
    </sql>

    <select id="getUserNameId" resultType="com.dylan.chat.model.UserNameIdModel">
        select user_name, id  from <include refid="Table_Name" /> where del_flag = 0
        <choose>
            <when test="list != null and list.size > 0">
                and user_name in
                <foreach collection="list" item="userName" index="" open="(" close=")" separator=",">
                    #{userName}
                </foreach>
            </when>
            <otherwise>
                and 1 = 2;
            </otherwise>
        </choose>
    </select>

</mapper>